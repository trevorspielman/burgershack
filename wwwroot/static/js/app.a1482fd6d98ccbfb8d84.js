webpackJsonp([1],{"0O5u":function(e,t){},"6V0f":function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("7+uW"),s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var o=n("VU/8")({name:"App"},s,!1,function(e){n("ymcE")},null,null).exports,r=n("/ocq"),i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"Home"},[n("h1",[e._v("Please Register:")]),e._v(" "),n("div",[n("form",{attrs:{action:"submit"},on:{submit:function(t){return t.preventDefault(),e.register(t)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.name,expression:"newUser.name"}],attrs:{type:"text",placeholder:"Name"},domProps:{value:e.newUser.name},on:{input:function(t){t.target.composing||e.$set(e.newUser,"name",t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.email,expression:"newUser.email"}],attrs:{type:"text",placeholder:"Email",required:""},domProps:{value:e.newUser.email},on:{input:function(t){t.target.composing||e.$set(e.newUser,"email",t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.password,expression:"newUser.password"}],attrs:{type:"password",placeholder:"Password",required:""},domProps:{value:e.newUser.password},on:{input:function(t){t.target.composing||e.$set(e.newUser,"password",t.target.value)}}}),e._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("Register")])])]),e._v(" "),n("h1",[e._v("Please Login:")]),e._v(" "),n("div",[n("form",{attrs:{action:"submit"},on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.loginUser.email,expression:"loginUser.email"}],attrs:{type:"text",placeholder:"Email",required:""},domProps:{value:e.loginUser.email},on:{input:function(t){t.target.composing||e.$set(e.loginUser,"email",t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.loginUser.password,expression:"loginUser.password"}],attrs:{type:"password",placeholder:"Password",required:""},domProps:{value:e.loginUser.password},on:{input:function(t){t.target.composing||e.$set(e.loginUser,"password",t.target.value)}}}),e._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("Login")])])])])},staticRenderFns:[]};var u=n("VU/8")({name:"Home",data:function(){return{newUser:{name:"",email:"",password:""},loginUser:{email:"",password:""}}},methods:{register:function(){this.$store.dispatch("createUser",this.newUser)},login:function(){this.$store.dispatch("login",this.loginUser)}}},i,!1,function(e){n("0O5u")},"data-v-83352db6",null).exports,c={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"Profile"},[t("h1",[this._v("Welcome "+this._s(this.user.name))]),this._v(" "),t("button",{staticClass:"btn btn-danger",on:{click:this.logout}},[this._v("Log Out")])])},staticRenderFns:[]};var l=n("VU/8")({name:"Profile",data:function(){return{}},methods:{logout:function(){this.$store.dispatch("logout")}},computed:{user:function(){return this.$store.state.user}}},c,!1,function(e){n("6V0f")},"data-v-0f84f4a1",null).exports;a.a.use(r.a);var m=new r.a({routes:[{path:"/",name:"Home",component:u},{path:"/profile",name:"Profile",component:l}]}),p=n("NYxO"),d=n("mtWM"),v=n.n(d),h=!window.location.host.includes("localhost")?"//brewbros.herokuapp.com/":"//localhost:5000/",f=(v.a.create({baseURL:h+"api/",timeout:1e4,withCredentials:!0}),v.a.create({baseURL:h+"account/",timeout:5e3,withCredentials:!0}));a.a.use(p.a);var g=new p.a.Store({state:{user:{}},mutations:{updateUser:function(e,t){e.user=t}},actions:{createUser:function(e,t){e.commit;var n=e.dispatch;e.state;f.post("register",t).then(function(e){delete e.data.Name,delete e.data.Id,e.data.Password=t.password,n("login",e.data)}).catch(function(e){console.error(e)})},login:function(e,t){var n=e.commit;e.dispatch,e.state;f.post("login",t).then(function(e){n("updateUser",e.data),m.push({name:"Profile"})}).catch(function(e){console.error(e)})},logout:function(e,t){var n=e.commit;e.dispatch;f.delete("logout").then(function(e){n("updateUser",{}),m.push({name:"Home"})}).catch(function(e){console.error(e)})},authenticate:function(e,t){var n=e.commit;e.dispatch;f.get("authenticate",t).then(function(e){n("updateUser",e.data),""==e.data?m.push({name:"Home"}):m.push({name:"Profile"})}).catch(function(e){console.error(e),m.push({name:"Home"})})}}});a.a.config.productionTip=!1,new a.a({el:"#app",router:m,store:g,components:{App:o},template:"<App/>"})},ymcE:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.a1482fd6d98ccbfb8d84.js.map